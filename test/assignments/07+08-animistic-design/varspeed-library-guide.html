<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/Digital-Interfaces/test/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/Digital-Interfaces/test/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li > a, .site-nav > ul.nav-list:first-child > li > ul > li > a, .site-nav > ul.nav-list:first-child > li > ul > li > ul > li:not(:nth-child(1)) > a, .site-nav > ul.nav-list:first-child > li > ul > li > ul > li > ul > li a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(2) > ul > li:nth-child(7) > ul > li:nth-child(1) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(2) > button svg, .site-nav > ul.nav-list:first-child > li:nth-child(2) > ul > li:nth-child(7) > button svg, .site-nav > ul.nav-list:first-child > li:nth-child(2) > ul > li:nth-child(7) > ul > li:nth-child(1) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(2) > ul.nav-list, .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(2) > ul.nav-list > li.nav-list-item:nth-child(7) > ul.nav-list, .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(2) > ul.nav-list > li.nav-list-item:nth-child(7) > ul.nav-list > li.nav-list-item:nth-child(1) > ul.nav-list { display: block; } </style> <script src="/Digital-Interfaces/test/assets/js/vendor/lunr.min.js"></script> <script src="/Digital-Interfaces/test/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>VarSpeed Library Guide | Digital Interfaces</title> <meta name="generator" content="Jekyll v3.10.0" /> <meta property="og:title" content="VarSpeed Library Guide" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Repository for the BSc course Digital Interfaces" /> <meta property="og:description" content="Repository for the BSc course Digital Interfaces" /> <meta property="og:site_name" content="Digital Interfaces" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="VarSpeed Library Guide" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Repository for the BSc course Digital Interfaces","headline":"VarSpeed Library Guide","url":"/Digital-Interfaces/test/assignments/07+08-animistic-design/varspeed-library-guide.html"}</script> <!-- End Jekyll SEO tag --> <!-- CSS and JS for jekyll-tabs --> <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jekyll-tabs@1.1.0/dist/tabs.css"> --> <!-- <script type="text/javascript" src="/assets/js/tabs.js"></script> --> <script src="/Digital-Interfaces/test/assets/js/tabs.js" type="text/javascript"></script> <link rel="stylesheet" href="/Digital-Interfaces/test/assets/css/tabs.css"> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/Digital-Interfaces/test/" class="site-title lh-tight"> Digital Interfaces </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/Digital-Interfaces/test/" class="nav-list-link">Home</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Assignments category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/Digital-Interfaces/test/assignments/" class="nav-list-link">Assignments</a><ul class="nav-list"><li class="nav-list-item"><a href="/Digital-Interfaces/test/assignments/01-digital-interface-safari/" class="nav-list-link">1: Digital Interfaces Safari</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in 2: Reaction Game category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/Digital-Interfaces/test/assignments/02-reaction-game/" class="nav-list-link">2: Reaction Game</a><ul class="nav-list"><li class="nav-list-item"><a href="/Digital-Interfaces/test/assignments/02-reaction-game/game_code_neopixel.html" class="nav-list-link">Game code for ChaiNEO</a></li><li class="nav-list-item"><a href="/Digital-Interfaces/test/assignments/02-reaction-game/game_code_p9813.html" class="nav-list-link">Game code for Grove</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in 3: Game Controller category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/Digital-Interfaces/test/assignments/03-game-controller/" class="nav-list-link">3: Game Controller</a><ul class="nav-list"><li class="nav-list-item"><a href="/Digital-Interfaces/test/assignments/03-game-controller/coding_instructions.html" class="nav-list-link">Code instructions</a></li><li class="nav-list-item"><a href="/Digital-Interfaces/test/assignments/03-game-controller/code_solution.html" class="nav-list-link">Code solution</a></li></ul></li><li class="nav-list-item"><a href="/Digital-Interfaces/test/assignments/04-data-embodiment/" class="nav-list-link">4: Data Embodiment</a></li><li class="nav-list-item"><a href="/Digital-Interfaces/test/assignments/05-walkie-talkie/" class="nav-list-link">5: Walkie-Talkie</a></li><li class="nav-list-item"><a href="/Digital-Interfaces/test/assignments/06-party-lamp/" class="nav-list-link">6: Party Lamp</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in 7+8: Animistic Design category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/Digital-Interfaces/test/assignments/07+08-animistic-design/" class="nav-list-link">7+8: Animistic Design</a><ul class="nav-list"><li class="nav-list-item"><a href="/Digital-Interfaces/test/assignments/07+08-animistic-design/varspeed-library-guide.html" class="nav-list-link">VarSpeed Library Guide</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Fading and blinking a Chainable LED category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/Digital-Interfaces/test/assignments/07+08-animistic-design/fading-and-blinking-a-chainable-led-index.html" class="nav-list-link">Fading and blinking a Chainable LED</a><ul class="nav-list"><li class="nav-list-item"><a href="/Digital-Interfaces/test/assignments/07+08-animistic-design/fading-and-blinking-a-chainable-led/neopixel.html" class="nav-list-link">Chainable LED ChaiNEO</a></li><li class="nav-list-item"><a href="/Digital-Interfaces/test/assignments/07+08-animistic-design/fading-and-blinking-a-chainable-led/p9813.html" class="nav-list-link">Chainable LED P9813</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Running two sequences simultaneously category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/Digital-Interfaces/test/assignments/07+08-animistic-design/running-two-sequences-index.html" class="nav-list-link">Running two sequences simultaneously</a><ul class="nav-list"><li class="nav-list-item"><a href="/Digital-Interfaces/test/assignments/07+08-animistic-design/running-two-sequences/neopixel.html" class="nav-list-link">Chainable LED ChaiNEO</a></li><li class="nav-list-item"><a href="/Digital-Interfaces/test/assignments/07+08-animistic-design/running-two-sequences/p9813.html" class="nav-list-link">Chainable LED P9813</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Triggering different sequences based on context or interaction category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/Digital-Interfaces/test/assignments/07+08-animistic-design/trigger-different-sequences-index.html" class="nav-list-link">Triggering different sequences based on context or interaction</a><ul class="nav-list"><li class="nav-list-item"><a href="/Digital-Interfaces/test/assignments/07+08-animistic-design/trigger-different-sequences/neopixel.html" class="nav-list-link">Chainable LED ChaiNEO</a></li><li class="nav-list-item"><a href="/Digital-Interfaces/test/assignments/07+08-animistic-design/trigger-different-sequences/p9813.html" class="nav-list-link">Chainable LED P9813</a></li></ul></li></ul></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Tutorials category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/Digital-Interfaces/test/tutorials/" class="nav-list-link">Tutorials</a><ul class="nav-list"><li class="nav-list-item"><a href="/Digital-Interfaces/test/tutorials/01-time/" class="nav-list-link">01 Time in CircuitPython</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in 02 Pomodoro category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/Digital-Interfaces/test/tutorials/02-pomodoro/" class="nav-list-link">02 Pomodoro</a><ul class="nav-list"><li class="nav-list-item"><a href="/Digital-Interfaces/test/tutorials/02-pomodoro/step1.html" class="nav-list-link">Step 1: Preparation</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Step 2: Setting up the states category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/Digital-Interfaces/test/tutorials/02-pomodoro/step2.html" class="nav-list-link">Step 2: Setting up the states</a><ul class="nav-list"></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Step 3: Adding the LED category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/Digital-Interfaces/test/tutorials/02-pomodoro/step3.html" class="nav-list-link">Step 3: Adding the LED</a><ul class="nav-list"></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Step 4: Creating a timer category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/Digital-Interfaces/test/tutorials/02-pomodoro/step4.html" class="nav-list-link">Step 4: Creating a timer</a><ul class="nav-list"></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Step 5: Adding an alarm category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/Digital-Interfaces/test/tutorials/02-pomodoro/step5.html" class="nav-list-link">Step 5: Adding an alarm</a><ul class="nav-list"></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Step 6: Adding the breaks category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/Digital-Interfaces/test/tutorials/02-pomodoro/step6.html" class="nav-list-link">Step 6: Adding the breaks</a><ul class="nav-list"></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Step 7: Additional visualization using the servo category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/Digital-Interfaces/test/tutorials/02-pomodoro/step7.html" class="nav-list-link">Step 7: Additional visualization using the servo</a><ul class="nav-list"></ul></li><li class="nav-list-item"><a href="/Digital-Interfaces/test/tutorials/02-pomodoro/step8.html" class="nav-list-link">Step 8 Assembling the embodiment</a></li></ul></li><li class="nav-list-item"><a href="/Digital-Interfaces/test/tutorials/coding-challenge/" class="nav-list-link">Coding Challenge</a></li></ul></li></ul> <ul class="nav-list"><li class="nav-list-item external"> <a href="https://id-studiolab.github.io/Connected-Interaction-Kit" class="nav-list-link external" target="_blank" rel="noopener noreferrer" > Connected Interaction Kit <svg viewBox="0 0 24 24" aria-labelledby="svg-external-link-title"><use xlink:href="#svg-external-link"></use></svg> </a> </li><li class="nav-list-item external"> <a href="https://brightspace.tudelft.nl/d2l/home/681612" class="nav-list-link external" target="_blank" rel="noopener noreferrer" > DI Brightspace <svg viewBox="0 0 24 24" aria-labelledby="svg-external-link-title"><use xlink:href="#svg-external-link"></use></svg> </a> </li><li class="nav-list-item external"> <a href="https://hedy.org/" class="nav-list-link external" target="_blank" rel="noopener noreferrer" > Hedy - Python learning <svg viewBox="0 0 24 24" aria-labelledby="svg-external-link-title"><use xlink:href="#svg-external-link"></use></svg> </a> </li><li class="nav-list-item external"> <a href="https://www.w3schools.com/python/" class="nav-list-link external" target="_blank" rel="noopener noreferrer" > W3Schools - Python <svg viewBox="0 0 24 24" aria-labelledby="svg-external-link-title"><use xlink:href="#svg-external-link"></use></svg> </a> </li><li class="nav-list-item external"> <a href="https://docs.circuitpython.org/en/latest/README.html" class="nav-list-link external" target="_blank" rel="noopener noreferrer" > CircuitPython Docs <svg viewBox="0 0 24 24" aria-labelledby="svg-external-link-title"><use xlink:href="#svg-external-link"></use></svg> </a> </li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Digital Interfaces" aria-label="Search Digital Interfaces" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/Digital-Interfaces/test/assignments/">Assignments</a></li> <li class="breadcrumb-nav-list-item"><a href="/Digital-Interfaces/test/assignments/07+08-animistic-design/">7+8: Animistic Design</a></li> <li class="breadcrumb-nav-list-item"><span>VarSpeed Library Guide</span></li> </ol> </nav> <div id="main-content" class="main-content"> <main> <h1 id="varspeed-library-guide"> <a href="#varspeed-library-guide" class="anchor-heading" aria-labelledby="varspeed-library-guide"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> VarSpeed Library Guide </h1> <h2 id="download-and-install"> <a href="#download-and-install" class="anchor-heading" aria-labelledby="download-and-install"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Download and Install </h2> <p>For the code to work, we need an additional library that helps us with controlling different sequences for LEDs, motors, etc.</p> <ol> <li>Download the library <a href="/Digital-Interfaces/test/assignments/07+08-animistic-design/varspeed.zip">here</a></li> <li>Unzip the library and add the files <code class="language-plaintext highlighter-rouge">varspeed.py</code> and <code class="language-plaintext highlighter-rouge">easing_functions.py</code> into the <code class="language-plaintext highlighter-rouge">lib</code> folder of your <code class="language-plaintext highlighter-rouge">CIRCUITPY</code></li> </ol> <h2 id="why-use-the-varspeed-library"> <a href="#why-use-the-varspeed-library" class="anchor-heading" aria-labelledby="why-use-the-varspeed-library"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Why use the VarSpeed library? </h2> <p>When trying to animate an LED, a servo motor, or any kind of actuator, we have to set its value. This might be the LED color, the motor angle, vibration strength – you name it.</p> <p>Usually, we would solve this manually by setting a new value and then a <code class="language-plaintext highlighter-rouge">time.sleep()</code> like this code that blinks the Chainable LED.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># --- Main loop
</span><span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s">"hello world"</span><span class="p">)</span>
    <span class="n">leds</span><span class="p">.</span><span class="n">fill</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">))</span>
    <span class="n">leds</span><span class="p">.</span><span class="n">write</span><span class="p">()</span>
    <span class="n">time</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">leds</span><span class="p">.</span><span class="n">fill</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
    <span class="n">leds</span><span class="p">.</span><span class="n">write</span><span class="p">()</span>
    <span class="n">time</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div></div> <p>The issue with this code is, that the <code class="language-plaintext highlighter-rouge">time.sleep(2)</code> function actually <em>blocks</em> our entire main loop for two seconds, before continuing. If we want to still read sensors while blinking our LED, or want to move another actuator at a different interval, we run into issues.</p> <p>The VarSpeed library solves this issue neatly by allowing us to define actuator behaviour in a simple way. In the code below, we can easily define a sequence of movements for our servo motor by providing four inputs:</p> <ol> <li>A target-value,</li> <li>Time to get to that value (in seconds),</li> <li>Number of steps to get there,</li> <li>An easing function (see: <a href="https://easings.net">easing functions</a>)</li> </ol> <p>All this without having to worry about our code being blocked by a <code class="language-plaintext highlighter-rouge">time.sleep()</code> function.</p> <p>Take a look at the code examples to get a better understanding of the library and how you can use it to bring your creature to life!</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">##--- Custom Movement Sequence
# The sequence will go through each entry and move to the next entry
# The sequence is defined with this format: (next-position, seconds-to-move, number-of-steps, easing-function)
# Take a look at different easing functions here: https://easings.net
</span><span class="n">servo_sequence</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="mi">180</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="s">"LinearInOut"</span><span class="p">),</span> <span class="c1"># Go to value 180, in 5 seconds, in 100 steps, and use a linear easing function.
</span>    <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s">"QuadEaseOut"</span><span class="p">),</span>     <span class="c1"># Go to value 0, in 2 seconds, in 5 steps, and use a QuadEaseOut easing function
</span>    <span class="p">(</span><span class="mi">90</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s">"SineEaseInOut"</span><span class="p">)</span>  <span class="c1"># Go to value 90, in 2 seconds, in 10 steps, and use a SineEaseInOut easing function
</span><span class="p">]</span>
</code></pre></div></div> <h2 id="detailed-example-with-a-servo"> <a href="#detailed-example-with-a-servo" class="anchor-heading" aria-labelledby="detailed-example-with-a-servo"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Detailed example with a servo </h2> <p>In this example we will take a detailed look at how to use the VarSpeed library to gradually move a servo.</p> <ol> <li> <p>As always, we start by importing all the libraries we need to run our code.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">##--- Library Imports
</span><span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">board</span>
<span class="kn">import</span> <span class="nn">pwmio</span>
<span class="kn">from</span> <span class="nn">adafruit_motor</span> <span class="kn">import</span> <span class="n">servo</span>
<span class="kn">from</span> <span class="nn">varspeed</span> <span class="kn">import</span> <span class="n">Vspeed</span>
</code></pre></div> </div> </li> <li> <p>Next, we need to configure the VarSpeed library and define what the minimum and maximum values of our sequence will be as well as pass these values on to the library itself. For the result we chose <code class="language-plaintext highlighter-rouge">int</code> because our output should only contain whole numbers.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">##--- VarSpeed Variables
</span>   
<span class="n">MIN</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># The minimum  possible value of our component
</span><span class="n">MAX</span> <span class="o">=</span> <span class="mi">180</span> <span class="c1"># The maximum possible value of our component
</span>   
<span class="n">vs</span> <span class="o">=</span> <span class="n">Vspeed</span><span class="p">(</span><span class="n">init_position</span><span class="o">=</span><span class="n">MIN</span><span class="p">,</span> <span class="n">result</span><span class="o">=</span><span class="s">"int"</span><span class="p">)</span> <span class="c1"># init_position = initial start position // result = float, int
</span><span class="n">vs</span><span class="p">.</span><span class="n">set_bounds</span><span class="p">(</span><span class="n">lower_bound</span><span class="o">=</span><span class="n">MIN</span><span class="p">,</span> <span class="n">upper_bound</span><span class="o">=</span><span class="n">MAX</span><span class="p">)</span> <span class="c1"># make the output of the function be within the bounds set
</span></code></pre></div> </div> </li> <li> <p>Afterwards we can configure our servo motor by defining the pin we connect it to (Pin <code class="language-plaintext highlighter-rouge">D2</code>), creating a variable for the motor we can use to steer it, and set an initial angle. If you haven’t worked with a servo before, take a look at its <a href="https://id-studiolab.github.io/Connected-Interaction-Kit/components/servo-motor/servo-motor">documentation page</a>.</p> </li> </ol> <ul id="data-struct" class="tab" data-tab="0e8ddabe-75eb-47f5-a778-ef49710dbe09" data-name="data-struct"> <li class="active" id="data-struct-picoexpander"> <a href="#">PicoExpander </a> </li> <li id="data-struct-bitsyexpander"> <a href="#">BitsyExpander </a> </li> </ul> <ul class="tab-content" id="0e8ddabe-75eb-47f5-a778-ef49710dbe09" data-name="data-struct"> <li class="active"> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   <span class="c1">##--- Hardware Setup
</span>   <span class="n">pwm</span> <span class="o">=</span> <span class="n">pwmio</span><span class="p">.</span><span class="n">PWMOut</span><span class="p">(</span><span class="n">board</span><span class="p">.</span><span class="n">GP10</span><span class="p">,</span> <span class="n">duty_cycle</span><span class="o">=</span><span class="mi">2</span> <span class="o">**</span> <span class="mi">15</span><span class="p">,</span> <span class="n">frequency</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span> <span class="c1"># create a PWMOut object on Pin D2.
</span>   <span class="n">my_servo</span> <span class="o">=</span> <span class="n">servo</span><span class="p">.</span><span class="n">Servo</span><span class="p">(</span><span class="n">pwm</span><span class="p">)</span> <span class="c1"># Create a servo object, my_servo
</span>   <span class="n">my_servo</span><span class="p">.</span><span class="n">angle</span> <span class="o">=</span> <span class="n">MIN</span> <span class="c1"># set the servo to a known starting point
</span></code></pre></div></div> </li> <li> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   <span class="c1">##--- Hardware Setup
</span>   <span class="n">pwm</span> <span class="o">=</span> <span class="n">pwmio</span><span class="p">.</span><span class="n">PWMOut</span><span class="p">(</span><span class="n">board</span><span class="p">.</span><span class="n">D2</span><span class="p">,</span> <span class="n">duty_cycle</span><span class="o">=</span><span class="mi">2</span> <span class="o">**</span> <span class="mi">15</span><span class="p">,</span> <span class="n">frequency</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span> <span class="c1"># create a PWMOut object on Pin D2.
</span>   <span class="n">my_servo</span> <span class="o">=</span> <span class="n">servo</span><span class="p">.</span><span class="n">Servo</span><span class="p">(</span><span class="n">pwm</span><span class="p">)</span> <span class="c1"># Create a servo object, my_servo
</span>   <span class="n">my_servo</span><span class="p">.</span><span class="n">angle</span> <span class="o">=</span> <span class="n">MIN</span> <span class="c1"># set the servo to a known starting point
</span></code></pre></div></div> </li> </ul> <ol> <li> <p>Now instead of having to fiddle with code ourselves to define the motor movement, we can do so by writing it into a sequence that then gets interpreted by the VarSpeed library into the actual angle values.</p> <p>You can add as many entries into the <code class="language-plaintext highlighter-rouge">servo_sequence</code> array as you like, as well as define the <code class="language-plaintext highlighter-rouge">servo_looping</code> to define how often the sequence should be executed.</p> <p>Learn more about different looping functions here: <a href="https://easings.net/">https://easings.net</a></p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">##--- Custom Movement Sequence
# This is where we can define the movement of our motor
# The sequence will go through each entry and move to the next entry
# The sequence is defined in this format: (next-position,seconds-to-move,number-of-steps,easing function)
# Take a look at different easing functions here: https://easings.net
</span><span class="n">servo_sequence</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="mi">180</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="s">"LinearInOut"</span><span class="p">),</span> <span class="c1"># Go to 180, in 5 seconds, in 100 steps, using a linear function
</span>    <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s">"QuadEaseOut"</span><span class="p">),</span>     <span class="c1"># Go to 0, in 2 seconds, in 5 steps, using a quadratic easing function
</span>    <span class="p">(</span><span class="mi">90</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s">"SineEaseInOut"</span><span class="p">)</span>  <span class="c1"># Got to 90, in 2 seconds, in 10 steps, using a sine function
</span><span class="p">]</span>
    
<span class="c1"># Define how many times the defined sequence should be repeated
#servo_looping = 0   # play the sequence in an endless loop forever
</span><span class="n">servo_looping</span> <span class="o">=</span> <span class="mi">1</span>    <span class="c1"># play the sequence only once
#servo_looping = 10  # play the sequence 10 times
</span></code></pre></div> </div> </li> <li> <p>The last thing to do is to add our main loop, so that the code gets executed continuously.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">##--- Main loop
</span><span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="c1"># Make a call to the library and request the desired of our servo motor
</span>    <span class="n">position</span><span class="p">,</span> <span class="n">running</span><span class="p">,</span> <span class="n">changed</span> <span class="o">=</span> <span class="n">vs</span><span class="p">.</span><span class="n">sequence</span><span class="p">(</span><span class="n">sequence</span><span class="o">=</span><span class="n">servo_sequence</span><span class="p">,</span> <span class="n">loop_max</span><span class="o">=</span><span class="n">servo_looping</span><span class="p">)</span>

    <span class="c1"># - Position: The new value to assign to our servo
</span>    <span class="c1"># - Running: False if the sequence is finished, True if it's still running
</span>    <span class="c1"># - Changed: False if the value hasn't changed since the last function call, True if it has
</span>   
    <span class="c1"># See if the values changed for the next move, then do so
</span>    <span class="k">if</span> <span class="n">changed</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">'Sequence Num: </span><span class="si">{</span><span class="n">vs</span><span class="p">.</span><span class="n">seq_pos</span><span class="si">}</span><span class="s">, Step: </span><span class="si">{</span><span class="n">vs</span><span class="p">.</span><span class="n">step</span><span class="si">}</span><span class="s">, Position: </span><span class="si">{</span><span class="n">position</span><span class="si">}</span><span class="s">'</span><span class="p">)</span>
        <span class="n">my_servo</span><span class="p">.</span><span class="n">angle</span> <span class="o">=</span> <span class="n">position</span>
</code></pre></div> </div> <p>Let’s have a look at the following statement:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">position</span><span class="p">,</span> <span class="n">running</span><span class="p">,</span> <span class="n">changed</span> <span class="o">=</span> <span class="n">vs</span><span class="p">.</span><span class="n">sequence</span><span class="p">(</span><span class="n">sequence</span><span class="o">=</span><span class="n">servo_sequence</span><span class="p">,</span> <span class="n">loop_max</span><span class="o">=</span><span class="n">servo_looping</span><span class="p">)</span>
</code></pre></div> </div> <p>What happens here is that the VarSpeed library contains a function <code class="language-plaintext highlighter-rouge">sequence()</code> which takes two variables: the desired sequence (<code class="language-plaintext highlighter-rouge">servo_sequence</code>) and the amount of loops (<code class="language-plaintext highlighter-rouge">servo_looping</code>). It also returns three variables:</p> <ol> <li>The current position in the sequence (<code class="language-plaintext highlighter-rouge">position</code>)</li> <li>Whether the sequence is running (<code class="language-plaintext highlighter-rouge">running</code>)</li> <li>If the value has changed (<code class="language-plaintext highlighter-rouge">changed</code>)</li> </ol> </li> </ol> <p>Combined together, the final code for controlling a servo motor with a sequence is this:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">##--- Library Imports
</span><span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">board</span>
<span class="kn">import</span> <span class="nn">pwmio</span>
<span class="kn">from</span> <span class="nn">adafruit_motor</span> <span class="kn">import</span> <span class="n">servo</span>
<span class="kn">from</span> <span class="nn">varspeed</span> <span class="kn">import</span> <span class="n">Vspeed</span>

<span class="c1">##--- VarSpeed Variables
</span>
<span class="n">MIN</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># The minimum  possible value of our component
</span><span class="n">MAX</span> <span class="o">=</span> <span class="mi">180</span> <span class="c1"># The maximum possible value of our component
</span>
<span class="n">vs</span> <span class="o">=</span> <span class="n">Vspeed</span><span class="p">(</span><span class="n">init_position</span><span class="o">=</span><span class="n">MIN</span><span class="p">,</span> <span class="n">result</span><span class="o">=</span><span class="s">"int"</span><span class="p">)</span> <span class="c1"># init_position = initial start position // result = float, int
</span><span class="n">vs</span><span class="p">.</span><span class="n">set_bounds</span><span class="p">(</span><span class="n">lower_bound</span><span class="o">=</span><span class="n">MIN</span><span class="p">,</span> <span class="n">upper_bound</span><span class="o">=</span><span class="n">MAX</span><span class="p">)</span> <span class="c1"># make the output of the function be within the bounds set
</span>
<span class="c1">##--- Hardware Setup
</span><span class="n">pwm</span> <span class="o">=</span> <span class="n">pwmio</span><span class="p">.</span><span class="n">PWMOut</span><span class="p">(</span><span class="n">board</span><span class="p">.</span><span class="n">D2</span><span class="p">,</span> <span class="n">duty_cycle</span><span class="o">=</span><span class="mi">2</span> <span class="o">**</span> <span class="mi">15</span><span class="p">,</span> <span class="n">frequency</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span> <span class="c1"># create a PWMOut object on Pin D2.
</span><span class="n">my_servo</span> <span class="o">=</span> <span class="n">servo</span><span class="p">.</span><span class="n">Servo</span><span class="p">(</span><span class="n">pwm</span><span class="p">)</span> <span class="c1"># Create a servo object, my_servo
</span><span class="n">my_servo</span><span class="p">.</span><span class="n">angle</span> <span class="o">=</span> <span class="n">MIN</span> <span class="c1"># set the servo to a known starting point
</span>
<span class="c1">##--- Custom Movement Sequence
# This is where we can define the movement of our motor
# The sequence will go through each entry and move to the next entry
# The sequence is defined in this format: (next-position,seconds-to-move,number-of-steps,easing function)
# Take a look at different easing functions here: https://easings.net
</span><span class="n">servo_sequence</span> <span class="o">=</span> <span class="p">[</span>
   <span class="p">(</span><span class="mi">180</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="s">"LinearInOut"</span><span class="p">),</span> <span class="c1"># Go to 180, in 5 seconds, in 100 steps, using a linear function
</span>   <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s">"QuadEaseOut"</span><span class="p">),</span>     <span class="c1"># Go to 0, in 2 seconds, in 5 steps, using a quadratic easing function
</span>   <span class="p">(</span><span class="mi">90</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s">"SineEaseInOut"</span><span class="p">)</span>  <span class="c1"># Got to 90, in 2 seconds, in 10 steps, using a sine function
</span><span class="p">]</span>
    
<span class="c1"># Define how many times the defined sequence should be repeated
#servo_looping = 0   # play the sequence in an endless loop forever
</span><span class="n">servo_looping</span> <span class="o">=</span> <span class="mi">1</span>    <span class="c1"># play the sequence only once
#servo_looping = 10  # play the sequence 10 times
</span>
<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="c1"># Make a call to the library and request the desired of our servo motor
</span>    <span class="n">position</span><span class="p">,</span> <span class="n">running</span><span class="p">,</span> <span class="n">changed</span> <span class="o">=</span> <span class="n">vs</span><span class="p">.</span><span class="n">sequence</span><span class="p">(</span><span class="n">sequence</span><span class="o">=</span><span class="n">servo_sequence</span><span class="p">,</span> <span class="n">loop_max</span><span class="o">=</span><span class="n">servo_looping</span><span class="p">)</span>

    <span class="c1"># - Position: The new value to assign to our servo
</span>    <span class="c1"># - Running: False if the sequence is finished, True if it's still running
</span>    <span class="c1"># - Changed: False if the value hasn't changed since the last function call, True if it has
</span>
    <span class="c1"># See if the values changed for the next move, then do so
</span>    <span class="k">if</span> <span class="n">changed</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">'Sequence Num: </span><span class="si">{</span><span class="n">vs</span><span class="p">.</span><span class="n">seq_pos</span><span class="si">}</span><span class="s">, Step: </span><span class="si">{</span><span class="n">vs</span><span class="p">.</span><span class="n">step</span><span class="si">}</span><span class="s">, Position: </span><span class="si">{</span><span class="n">position</span><span class="si">}</span><span class="s">'</span><span class="p">)</span>
        <span class="n">my_servo</span><span class="p">.</span><span class="n">angle</span> <span class="o">=</span> <span class="n">position</span>

    <span class="n">time</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
</code></pre></div></div> <p><a href="index" class="btn btn-gray">Go back to the assignment</a></p> </main> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
